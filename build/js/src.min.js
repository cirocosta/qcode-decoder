function QRCodeDecoder(){this.tmrCapture=null,this.canvasElem=null}QRCodeDecoder.prototype.prepareCanvas=function(e,t,o){return t&&o&&(e.style.width=t+"px",e.style.height=o+"px",e.width=t,e.height=o),qrcode.setCanvasElement(e),this.canvasElem=e,e},QRCodeDecoder.prototype._captureToCanvas=function(){var e=this;this.tmrCapture&&clearTimeout(this.tmrCapture);var t=this.canvasElem.getContext("2d");t.clearRect(0,0,this.canvasElem.width,this.canvasElem.height);try{t.drawImage(this.videoElem,0,0);try{qrcode.decode()}catch(o){this.tmrCapture=setTimeout(function(){e._captureToCanvas.apply(e,null)},500)}}catch(o){this.tmrCapture=setTimeout(function(){e._captureToCanvas.apply(e,null)},500)}},QRCodeDecoder.prototype.hasGetUserMedia=function(){return!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)},QRCodeDecoder.prototype.isCanvasSupported=function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},QRCodeDecoder.prototype.prepareVideo=function(e,t,o){var a=this;o=o?o:t;var r={video:!0,audio:!1};return console.log("jiadsojioads"),navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getUserMedia?t?(this.getSources(function(i){for(var n in i){var c=i[n];c.facing===t&&(r.video={optional:[{sourceId:c.id}]})}a.callGUM(e,r,a,o)}),void setTimeout(function(){a._captureToCanvas.apply(a,null)},500)):void a.callGUM(e,r,a,o):void console.log("Couldn't get video from camera")},QRCodeDecoder.prototype.callGUM=function(e,t,o,a){console.log(a),navigator.getUserMedia(t,function(t){e.src=window.URL.createObjectURL(t),o.videoElem=e,setTimeout(function(){o._captureToCanvas.apply(o,null)},500)},a||function(){})},QRCodeDecoder.prototype.getSources=function(e){var t=[];MediaStreamTrack.getSources(function(o){for(var a=0;a!==o.length;++a){var r=o[a];"video"===r.kind&&t.push(r)}e(t)})},QRCodeDecoder.prototype.setDecoderCallback=function(e){qrcode.callback=e},QRCodeDecoder.prototype.decodeFromSrc=function(e){qrcode.decode(e)};